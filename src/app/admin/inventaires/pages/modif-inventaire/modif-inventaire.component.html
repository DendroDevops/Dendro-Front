<div class="row" [@moveInUp]="state">

  <div class="col-sm-12">

    <div class="error-server" *ngIf="errorMessage.show" [@fallIn]="state">
      {{errorMessage.message}}
    </div>

    <div class="success-server" *ngIf="successMessage.show" [@fallIn]="state">
      {{successMessage.message}}
    </div>

    <form (ngSubmit)="update()" *ngIf="inventaire" [formGroup]="inventoryForm">

      <wizard [navBarLocation]="'top'" [navBarLayout]="'custom'" [navigationMode]="'free'">
        <wizard-step navigationSymbol="1" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Identification
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="my-3 col-sm-12">
                  <app-espece-form [especeGroup]="inventoryForm"
                                   (selectEvent)="onChangeValueEspece($event)"></app-espece-form>
                </div>

                <div class="my-3 col-sm-6">
                  <app-text-input-form [textFormGroup]="inventoryForm" [textLabel]="'Diamètre'"
                                       [formName]="'diametre'" [errorText]="'Diamètre invalide'"></app-text-input-form>
                </div>
                <div class="my-3 col-sm-6">
                  <app-text-input-form [textFormGroup]="inventoryForm" [textLabel]="'Hauteur'"
                                       [formName]="'hauteur'" [errorText]="'Hauteur invalide'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-6">
                  <app-text-input-form [textFormGroup]="inventoryForm" [textLabel]="'Code Site'"
                                       [formName]="'codeSite'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-6">
                  <app-text-input-form [textFormGroup]="inventoryForm" [textLabel]="'Identification'"
                                       [formName]="'numSujet'"></app-text-input-form>
                </div>
                <br>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" nextStep>Suivant</button>
            <button type="submit" class="btn btn-success">TERMINER</button>
          </div>

        </wizard-step>
        <wizard-step navigationSymbol="2" navigationSymbolFontFamily="Roboto" style="min-height: 800px;">
          <ng-template wizardStepTitle>
            Images
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12 col-sm-12">
                  <div class="row">
                    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4">
                      <div class="message-attachment ui-bordered p-2 mr-3 mb-3">
                        <h3 class="text-center"> Image 1</h3>
                        <div style="text-align: center">
                          <img [@rotatedState]='stateImg1'
                               [src]="inventaire?.arbre.imgUrl.img1 ? appService.urlBaseArbreImg + inventaire?.arbre.imgUrl.img1 + '?p='+ current : appService.urlLogo2"
                               id="img-1" class="img-responsive"
                               style="height:13rem;background:white;border-radius : 3px;">
                        </div>

                        <hr>
                        <div class="media-body ml-1">
                          <div>
                            <a href="javascript:void(0)" (click)="modifImg(1)"
                               class="btn btn-success btn-xs">Modifier</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img1"
                               [swal]="{title:appService.messageDeleteImgArbre.title,
                                              text:appService.messageDelete.subMessage,
                                              type:'warning',
                                              showCancelButton:true,
                                              confirmButtonText:'Supprimer',
                                              cancelButtonText:'Annuler',
                                              showCloseButton:true,
                                              cancelButtonClass:'btn btn-md btn-default',
                                              confirmButtonClass:'btn btn-md btn-warning'}"
                               (confirm)="deleteImg(1)" (cancel)="declineDialog.show()"
                               ngbTooltip="Supprimer l'image"
                               style="cursor:pointer;"
                               class="btn btn-danger btn-xs">Supprimer</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img1" (click)="rotate(1)"
                               class="btn btn-secondary btn-xs">Pivoter</a>
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="col-sm-4 col-md-4  col-lg-4 col-xl-4">
                      <div class="message-attachment ui-bordered p-2 mr-3 mb-3">
                        <h3 class="text-center"> Image 2</h3>
                        <div style="text-align: center">

                          <img [@rotatedState]='stateImg2'
                               [src]="inventaire?.arbre.imgUrl.img2 ? appService.urlBaseArbreImg + inventaire.arbre.imgUrl?.img2 : appService.urlLogo2"
                               id="img-2" class="img-responsive"
                               style="height:13rem;background:white;border-radius : 3px;">
                        </div>
                        <hr>
                        <div class="media-body ml-1">
                          <div>
                            <a href="javascript:void(0)" (click)="modifImg(2)"
                               class="btn btn-success btn-xs">Modifier</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img2"
                               [swal]="{title:appService.messageDeleteImgArbre.title,
                                              text:appService.messageDelete.subMessage,
                                              type:'warning',
                                              showCancelButton:true,
                                              confirmButtonText:'Supprimer',
                                              cancelButtonText:'Annuler',
                                              showCloseButton:true,
                                              cancelButtonClass:'btn btn-md btn-default',
                                              confirmButtonClass:'btn btn-md btn-warning'}"
                               (confirm)="deleteImg(2)" (cancel)="declineDialog.show()"
                               ngbTooltip="Supprimer l'image"
                               style="cursor:pointer;"
                               class="btn btn-danger btn-xs">Supprimer</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img2" (click)="rotate(2)"
                               class="btn btn-secondary btn-xs">Pivoter</a>
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4">
                      <div class="message-attachment ui-bordered p-2 mr-3 mb-3">
                        <h3 class="text-center"> Image 3</h3>
                        <div style="text-align: center">
                          <img
                            [src]="inventaire?.arbre.imgUrl.img3 ? appService.urlBaseArbreImg + inventaire?.arbre.imgUrl.img3 + '?p='+current : appService.urlLogo2"
                            [@rotatedState]='stateImg3'
                            id="img-3" class="img-responsive"
                            style="height:13rem;background:white;border-radius : 3px;">
                          <hr>
                        </div>
                        <div class="media-body ml-1">
                          <div>
                            <a href="javascript:void(0)" (click)="modifImg(3)"
                               class="btn btn-success btn-xs">Modifier</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img3"
                               [swal]="{
                                             title:appService.messageDeleteImgArbre.title,
                                              text:appService.messageDeleteImgArbre.subMessage,
                                              type:'warning',
                                              showCancelButton:true,
                                              confirmButtonText:'Supprimer',
                                              cancelButtonText:'Annuler',
                                              showCloseButton:true,
                                              cancelButtonClass:'btn btn-md btn-default',
                                              confirmButtonClass:'btn btn-md btn-warning'}"
                               (confirm)="deleteImg(3)" (cancel)="declineDialog.show()"
                               ngbTooltip="Supprimer l'image"
                               style="cursor:pointer;"
                               class="btn btn-danger btn-xs">Supprimer</a>
                            <a href="javascript:void(0)" *ngIf="inventaire?.arbre.imgUrl.img3" (click)="rotate(3)"
                               class="btn btn-secondary btn-xs">Pivoter</a>
                          </div>
                        </div>
                      </div>

                    </div>

                  </div>
                  <div class="row" *ngIf="pivotVisible">
                    <div class="col-sm-6">
                      <h3>Image {{positionImg}}</h3>
                      <app-image-viewer [zoomInButton]="false" [zoomOutButton]="false" [fullscreen]="false"
                                        [resetZoom]="false"
                                        [images]="[inventaire?.arbre.imgUrl.img1 ? appService.urlBaseArbreImg + inventaire?.arbre.imgUrl.img1 + '?p='+current : appService.urlLogo2]"
                                        [idContainer]="'idOnHTML'"
                                        [loadOnInit]="true">
                      </app-image-viewer>
                    </div>
                  </div>
                </div>

                <div *ngIf="canvasImgVisible" [@fallIn]="state" class="col-sm-12">
                  <hr>
                  <div class="card mb-3">
                    <h4 class="card-header text-center">
                      Image {{positionImg}}
                    </h4>
                    <br>
                    <div class="ng2-file-upload-drop-zone text-center py-5 px-3 mx-3 mb-3"
                         ng2FileDrop
                         [ngClass]="{'ng2-file-upload-file-over': hasBaseDropZoneOver}"
                         (fileOver)="fileOver($event)"
                         [uploader]="uploader">

                      <h4>Sélectionner l'image</h4>
                      <label class="btn btn-success">
                        <i class="far fa-file-image" style="font-size:2rem;"></i>
                        <input type="file" class="sr-only" ng2FileSelect
                               [uploader]="uploader"
                               multiple>
                      </label>
                    </div>


                    <ul class="list-group mt-4" [class.d-none]="!uploader?.queue?.length">
                      <!-- Files -->
                      <li class="list-group-item" *ngFor="let item of uploader.queue">
                        <div class="media">
                          <div class="media-body">
                            <div>
                                              <span *ngIf="item.isError"><i
                                                class="ion ion-md-alert text-danger text-big mr-2"></i></span>
                              <strong>{{ item?.file?.name }}</strong>
                            </div>
                            <div>
                              <small class="text-muted" nowrap>
                                {{ item?.file?.size / 1024 / 1024 | number:'.2' }} MB
                              </small>
                            </div>
                          </div>
                          <div class="align-self-center ml-3">
                            <button type="button" ngbTooltip="supprimer l'image" class="btn btn-sm icon-btn btn-danger"
                                    (click)="item.remove()"><i
                              class="ion ion-md-trash"></i></button>

                          </div>
                        </div>
                      </li>

                    </ul>
                    <!-- END CONFIG FILES -->
                  </div>
                  <div class="text-center">
                    <button type="button" class="btn-success btn-md" (click)="uploadImage()"
                            [disabled]="uploader.queue.length === 0">
                      ENREGISTRER
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="button" class="btn btn-default" (click)="updateRotation(); uploadImage()" nextStep>Suivant
            </button>
            <button type="button" class="btn btn-success" (click)="updateRotation(); uploadImage(); update()">TERMINER
            </button>
          </div>
        </wizard-step>

        <wizard-step navigationSymbol="3" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Caractéristiques
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Au pied de l\'arbre'"
                    [formName]="'caractPied'"
                    (selectEvent)="isCaractPiedOtherchange($event)"
                    [DATA_TAB]="caractPiedOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>
                <br>
                <div class="my-3 col-sm-12"
                     *ngIf="this.inventoryForm.get('caractPiedOther').value || isCaractPiedOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Autre, précisez'"
                                           [formName]="'caractPiedOther'"></app-textarea-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Tronc'"
                    [formName]="'caractTronc'"
                    (selectEvent)="onChange($event)"
                    [DATA_TAB]="caractTroncOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="this.inventoryForm.get('caractTroncMultiples').value || isTroncMutiples">
                  <app-text-input-form [textFormGroup]="inventoryForm" [textLabel]="'Tronc multiples'"
                                       [formName]="'caractTroncMultiples'"></app-text-input-form>
                </div>
                <br>
                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Port de l\'arbre'"
                    [formName]="'portArbre'"
                    [DATA_TAB]="portArbreOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>
                <br>
                <div class="my-3 col-sm-12">

                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Stade de développement'"
                    [formName]="'stadeDev'"
                    [DATA_TAB]="stadeDevOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Critères'"
                    [formName]="'critere'"
                    (selectEvent)="onChangeCritere($event)"
                    [DATA_TAB]="critereOptions"
                    [isMultiple]="true">
                  </app-select-input-form>

                </div>

                <div class="my-3 col-sm-12" *ngIf="this.inventoryForm.get('critereOther').value || isCritereOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Autre, précisez'"
                                           [formName]="'critereOther'"></app-textarea-input-form>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="button" class="btn btn-default" nextStep>Suivant</button>
            <button type="submit" class="btn btn-success">TERMINER</button>
          </div>
        </wizard-step>
        <wizard-step navigationSymbol="5" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Etat sanitaire
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Système racinaire et Collet'"
                    [formName]="'etatSanCollet'"
                    (selectEvent)="onChangeEtatSanCollet($event)"
                    [DATA_TAB]="etatSanColletOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanColletChampignons').value.length !== 0 || isEtatSanColletChampignons">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Champignons lignivores, précisez :'"
                    [formName]="'etatSanColletChampignons'"
                    [DATA_TAB]="champignonsOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanColletChampignonsAutres').value || isEtatSanColletChampignonsAutres">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres Champignons : '"
                                       [formName]="'etatSanColletChampignonsAutres'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanColletCavite').value || isEtatSanColletCavite">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Cavité, nombre :'"
                                       [formName]="'etatSanColletCavite'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanColletOther').value || isEtatSanColletOther">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autre, précisez :'"
                                       [formName]="'etatSanColletOther'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Tronc'"
                    [formName]="'etatSanTronc'"
                    (selectEvent)="onChangeEtatSanTronc($event)"
                    [DATA_TAB]="etatSanTroncOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncChampignons').value.length !== 0 || isEtatSanTroncChampignons">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Champignons lignivores, précisez : '"
                    [formName]="'etatSanTroncChampignons'"
                    [DATA_TAB]="champignonsOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncChampignonsAutres').value || isEtatSanTroncChampignonsAutres">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres Champignons : '"
                                       [formName]="'etatSanTroncChampignonsAutres'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncNuisibles').value.length !== 0 || isEtatSanTroncParasites">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Parasite, nuisibles : '"
                    [formName]="'etatSanTroncNuisibles'"
                    (selectEvent)="onChangeParasiteTroncOther($event)"
                    [DATA_TAB]="parasitesOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncOther').value || isEtatSanTroncOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Autre, précisez : '"
                                           [formName]="'etatSanTroncOther'"></app-textarea-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncNuisiblesAutres').value || isEtatSanTroncNuisiblesAutres">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres parasites : '"
                                       [formName]="'etatSanTroncNuisiblesAutres'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncCorpsEtranger').value || isEtatSanTroncCorpsEtranger">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Corps étranger, précisez :'"
                                       [formName]="'etatSanTroncCorpsEtranger'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanTroncCavite').value || isEtatSanTroncCavite">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Cavité, nombre :'"
                                       [formName]="'etatSanTroncCavite'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Houppier'"
                    [formName]="'etatSanHouppier'"
                    (selectEvent)="onChangeEtatSanHouppier($event)"
                    [DATA_TAB]="etatSanHouppierOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="col-sm-12"
                     *ngIf="inventoryForm.get('etatSanHouppierChampignons').value.length !== 0 || isEtatSanHouppierChampignons">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Champignons lignivores, précisez : '"
                    [formName]="'etatSanHouppierChampignons'"
                    [DATA_TAB]="champignonsOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanHouppierChampignonsAutres').value || isEtatSanHouppierChampignonsAutres">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres Champignons : '"
                                       [formName]="'etatSanHouppierChampignonsAutres'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanHouppierNuisibles').value.length !== 0 || isEtatSanHouppierParasites">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Parasite, nuisibles : '"
                    [formName]="'etatSanHouppierNuisibles'"
                    (selectEvent)="onChangeParasiteHouppierOther($event)"
                    [DATA_TAB]="parasitesOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanHouppierNuisiblesAutres').value || isEtatSanHouppierNuisiblesAutres">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres, précisez : '"
                                       [formName]="'etatSanHouppierNuisiblesAutres'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanHouppierOther').value || isEtatSanHouppierOther">
                  <app-text-input-form [textFormGroup]="inventoryForm"
                                       [textLabel]="'Autres, précisez :'"
                                       [formName]="'etatSanHouppierOther'"></app-text-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'État physiologique'"
                    [formName]="'etatSanGeneral'"
                    (selectEvent)="onChangeEtatSanGeneral($event)"
                    [DATA_TAB]="etatSanGeneralOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>
                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('etatSanGeneralOther').value || isEtatSanGeneralOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Commentaire '"
                                           [formName]="'etatSanGeneralOther'"></app-textarea-input-form>
                </div>
                <!-- Risque de rupture -->

                <div class="my-3 col-sm-12">
                  <h5 class="text-center"> RISQUE DE RUPTURE</h5>
                  <br>
                  <div class="row">
                    <div class="col-sm-4">
                      <app-select-input-form
                        [selectFormGroup]="inventoryForm"
                        [textLabel]="'Collet'"
                        [formName]="'risqueCollet'"
                        [DATA_TAB]="risqueRuptureOptions"
                        [isMultiple]="false">
                      </app-select-input-form>
                    </div>
                    <div class="col-sm-4">
                      <app-select-input-form
                        [selectFormGroup]="inventoryForm"
                        [textLabel]="'Tronc'"
                        [formName]="'risqueTronc'"
                        [DATA_TAB]="risqueRuptureOptions"
                        [isMultiple]="false">
                      </app-select-input-form>
                    </div>

                    <div class="col-sm-4">
                      <app-select-input-form
                        [selectFormGroup]="inventoryForm"
                        [textLabel]="'Houppier'"
                        [formName]="'risqueHouppier'"
                        [DATA_TAB]="risqueRuptureOptions"
                        [isMultiple]="false">
                      </app-select-input-form>
                    </div>
                  </div>
                </div>

                <div class="col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Evaluation du risque'"
                    (selectEvent)="onRisqueGeneral($event)"
                    [formName]="'risqueGeneral'"
                    [DATA_TAB]="risqueGeneralOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('risqueGeneralOther').value || isRisqueGeneralOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Commentaire: '"
                                           [formName]="'risqueGeneralOther'">
                  </app-textarea-input-form>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="button" class="btn btn-default" nextStep>Suivant</button>
            <button type="submit" class="btn btn-success">TERMINER</button>
          </div>
        </wizard-step>
        <wizard-step navigationSymbol="4" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Environnement
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-6">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Implantation'"
                    [formName]="'implantation'"
                    [DATA_TAB]="implantationOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>
                <div class="col-sm-6">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Domaine'"
                    [formName]="'domaine'"
                    [DATA_TAB]="domaineOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Proximité'"
                    [formName]="'proximite'"
                    (selectEvent)="onChangeProximite($event)"
                    [DATA_TAB]="proximiteOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12" *ngIf="inventoryForm.get('proximiteOther').value || isProximiteOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Autre, à préciser'"
                                           [formName]="'proximiteOther'"></app-textarea-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'DICT'"
                    [formName]="'proximiteWithDict'"
                    (selectEvent)="onChangeProximite($event)"
                    [DATA_TAB]="proximiteWithDictOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Nuisance'"
                    [formName]="'nuisance'"
                    [DATA_TAB]="nuisanceOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Taux de fréquentation'"
                    [formName]="'tauxFreq'"
                    [DATA_TAB]="tauxFreqOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Type de passage'"
                    [formName]="'typePassage'"
                    (selectEvent)="onChangeTypePassage($event)"
                    [DATA_TAB]="typePassageOptions"
                    [isMultiple]="true">
                  </app-select-input-form>
                </div>

                <div class="my-3 col-sm-12" *ngIf="inventoryForm.get('typePassageOther').value || isTypePassageOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Autre, à préciser'"
                                           [formName]="'typePassageOther'"></app-textarea-input-form>
                </div>

                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Accessibilité'"
                    [formName]="'accessibilite'"
                    (selectEvent)="onChangeAccessibilite($event)"
                    [DATA_TAB]="accessibiliteOptions"
                    [isMultiple]="false">
                  </app-select-input-form>

                </div>

                <div class="my-3 col-sm-12"
                     *ngIf="inventoryForm.get('accessibiliteOther').value || isAccessibliteOther">
                  <app-textarea-input-form [textareaGroup]="inventoryForm" [textLabel]="'Accès difficile, précisez'"
                                           [formName]="'accessibiliteOther'"></app-textarea-input-form>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="button" class="btn btn-default" nextStep>Suivant</button>
            <button type="submit" class="btn btn-success">TERMINER</button>
          </div>
        </wizard-step>
        <wizard-step navigationSymbol="6" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Travaux
          </ng-template>

          <div class="card mb-3">
            <div class="card-body">
              <div class="row">
                <div class="my-3 col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Abattage'"
                    [formName]="'abattage'"
                    (selectEvent)="onChangeAbattage()"
                    [DATA_TAB]="abattageOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>

                <div class="col-sm-12" *ngIf="!inventoryForm.get('abattage').value">

                  <div class="col-sm-12">
                    <app-select-input-form
                      [selectFormGroup]="inventoryForm"
                      [textLabel]="'Système racinaire, collet'"
                      [formName]="'travauxColletMultiple'"
                      (selectEvent)="isChangeTravauxCollet($event)"
                      [DATA_TAB]="travauxColletMultipleOptions"
                      [isMultiple]="true">
                    </app-select-input-form>
                  </div>

                  <div class="my-3 col-sm-12"
                       *ngIf="inventoryForm.get('travauxColletOther').value || isTravauxColletOther">
                    <app-textarea-input-form [textLabel]="'Autre, précisez :'"
                                             [formName]="'travauxColletOther'"
                                             [textareaGroup]="inventoryForm"
                    ></app-textarea-input-form>
                  </div>

                  <div class="col-sm-12">
                    <app-select-input-form
                      [selectFormGroup]="inventoryForm"
                      [textLabel]="'Tronc'"
                      [formName]="'travauxTroncMultiple'"
                      (selectEvent)="isChangeTravauxTronc($event)"
                      [DATA_TAB]="travauxTroncMultipleOptions"
                      [isMultiple]="true">
                    </app-select-input-form>
                  </div>

                  <div class="my-3 col-sm-12"
                       *ngIf="inventoryForm.get('travauxTroncOther').value || isTravauxTroncOther">
                    <app-textarea-input-form [textLabel]="'Autre, précisez :'"
                                             [formName]="'travauxTroncOther'"
                                             [textareaGroup]="inventoryForm"
                    ></app-textarea-input-form>
                  </div>

                  <div class="my-3 col-sm-12"
                       *ngIf="inventoryForm.get('travauxTroncProtection').value || isTravauxTroncProtection">
                    <app-textarea-input-form [textLabel]="'Protection particulière, précisez :'"
                                             [formName]="'travauxTroncProtection'"
                                             [textareaGroup]="inventoryForm"
                    ></app-textarea-input-form>
                  </div>

                  <div class="col-sm-12">
                    <app-select-input-form
                      [selectFormGroup]="inventoryForm"
                      [textLabel]="'Houppier'"
                      [formName]="'travauxHouppierMultiple'"
                      (selectEvent)="isChangeTravauxHouppier($event)"
                      [DATA_TAB]="travauxHouppierMultipleOptions"
                      [isMultiple]="true">
                    </app-select-input-form>
                  </div>
                  <div class="my-3 col-sm-12"
                       *ngIf="inventoryForm.get('travauxHouppierOther').value || isTravauxHouppierOther">
                    <app-textarea-input-form [textLabel]="'Autre, précisez :'" [formName]="'travauxHouppierOther'"
                                             [textareaGroup]="inventoryForm"></app-textarea-input-form>
                  </div>
                </div>

                <div class="col-sm-12">
                  <app-select-input-form
                    [selectFormGroup]="inventoryForm"
                    [textLabel]="'Echéance'"
                    [formName]="'dateTravaux'"
                    (selectEvent)="isEcheanceChange($event)"
                    [DATA_TAB]="dateTravauxOptions"
                    [isMultiple]="false">
                  </app-select-input-form>
                </div>
                <br>

                <div class="my-3 text-center col-sm-4">
                  <app-date-input-form [formName]="'userEditedDateTravaux'" [dateEcheanceForm]="inventoryForm"
                                       [placement]="'top-right'"></app-date-input-form>
                </div>

              </div>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="button" class="btn btn-default" nextStep>Suivant</button>
            <button type="button" class="btn btn-success" (click)="update()">TERMINER</button>
          </div>
        </wizard-step>
        <wizard-step navigationSymbol="7" navigationSymbolFontFamily="Roboto">
          <ng-template wizardStepTitle>
            Beva
          </ng-template>

          <app-beva [bevaGroup]="inventoryForm"></app-beva>

          <div class="text-right">
            <button type="button" class="btn btn-default" previousStep>Précédent</button>
            <button type="submit" class="btn btn-success">TERMINER</button>
          </div>
        </wizard-step>
      </wizard>
    </form>
  </div>
</div>
<!-- SPINNER -->
<app-spinner [visible]="visibleSpinner"></app-spinner>
<!-- FIN SPINNER -->
